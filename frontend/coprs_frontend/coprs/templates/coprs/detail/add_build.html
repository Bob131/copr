{% extends "coprs/detail.html" %}
{% from "_helpers.html" import nav_element, copr_url %}
{% block title %}Adding Build for {{ copr.owner.name }}/{{ copr.name }}{% endblock %}

{% set selected_tab = "builds" %}

{%block project_breadcrumb %}
  {% if package %}
    <li><a href="{{ copr_url('coprs_ns.copr_packages', copr) }}">Packages</a></li>
    <li><a href="{{ copr_url('coprs_ns.copr_package', copr, package_name=package.name) }}">{{ package.name }}</a></li>
    <li><a href="{{ copr_url('coprs_ns.copr_rebuild_package', copr, package_name=package.name) }}">Rebuild</a></li>
  {% else %}
    <li><a href="{{ url_add_build }}">New Build</a></li>
  {% endif %}
{%endblock%}

{% block detail_body %}
{#
<h2> Submit a New Build </h2>
Select the source type and submit a new build. Options in this form are relevant to this build only and will not change any settings of the project itself.
#}

{% macro nav_element(tab_name, tab_title, href) %}
<li class="{% if add_build_tab == tab_name %}active{% endif %}">
  <a href="{{ href }}">
    {{ tab_title }}
  </a>
</li>
{% endmacro %}

<ul class="nav nav-tabs nav-tabs-pf">
  {{ nav_element("url", "From URLs", copr_url('coprs_ns.copr_add_build', copr)) }}
  {{ nav_element("upload", "Upload SRPM", copr_url('coprs_ns.copr_add_build_upload', copr)) }}
  {{ nav_element("tito", "Git and Tito", copr_url('coprs_ns.copr_add_build_tito', copr)) }}
  {{ nav_element("mock", "Mock SCM", copr_url('coprs_ns.copr_add_build_mock', copr)) }}
</ul>

{% block build_form %}{% endblock %}

{% endblock %}
